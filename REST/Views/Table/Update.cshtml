@model CD_Table
@{
    ViewData["Title"] = "Table Update";
    Layout = "_StoreBack";
}

<div class="row">
    <div class="col-xl-10 col-12 mx-auto">
        <div class="card">
            <div class="card-body">
                <div class="row">
                    <div class="col-lg-5 col-md-12 col-12  mx-auto">
                        <h5 class="text-center font-weight-bold">
                            แก้ไขโต๊ะ
                        </h5>
                        <hr />
                    </div>
                </div>
                <form name="TableUpdate" method="post">
                    <div class="row mb-3">
                        <div class="col-lg-5 col-md-12 col-12  mx-auto">
                            <div class="form-group">
                                <label>โซนที่นั่ง :</label>
                                <select asp-for="ZoneId" class="form-control" readonly>
                                    <option value="" selected>-- กรุณาเลือกโซนที่นั่ง --</option>
                                    @foreach (var row in ViewBag.SL_Zone)
                                    {
                                        <option value="@row.ZoneId">@row.ZoneName</option>
                                    }
                                </select>
                                <span asp-validation-for="ZoneId" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label>รหัส :</label>
                                <input type="text" class="form-control" asp-for="TableId" readonly>
                                <span asp-validation-for="TableId" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label>ชื่อ :</label>
                                <input type="text" class="form-control" asp-for="TableName">
                                <span asp-validation-for="TableName" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label>จำนวนที่นั่ง :</label>
                                <input type="number" class="form-control text-right" asp-for="Personal">
                                <span asp-validation-for="Personal" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label>สถานะ :</label>
                                <select asp-for="TableST" class="form-control">
                                    <option value="1" selected>ว่าง</option>
                                    <option value="2">ไม่ว่าง</option>
                                    <option value="3">จอง</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>รายละเอียด :</label>
                                <textarea class="form-control" asp-for="Description" rows="3"></textarea>
                                <span asp-validation-for="Description" class="text-danger"></span>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2 col-sm-3 col-12 mx-auto">
                            <button type="button" onclick="Update()" class="btn btn-blue btn-block shadow-sm"><i class="far fa-save"></i>&nbsp;&nbsp;<span>บันทึก</span></button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


@section Scripts {
    <script>

        $(document).ready(function () {

            $(".item_click_Table").addClass("active");

        });

        function Update() {
            Swal.fire({
                text: "ต้องการแก้ไขข้อมูลหรือไม่ ?",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Yes',
                cancelButtonText: 'No'
            }).then((result) => {
                if (result.value) {
                    document.TableUpdate.action = '@Url.Action("Update", "Table")'
                    document.TableUpdate.submit();
                }
            })
        }

    </script>
}
