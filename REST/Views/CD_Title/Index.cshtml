@{
    ViewData["Title"] = "Store Back";
    ViewData["System"] = "คำนำหน้า";
    Layout = "_StoreBack";
}

@section Styles {
    <link rel="stylesheet" href="~/Plugins/DataTables/DataTables-1.10.21/css/dataTables.bootstrap4.min.css" />
}

<div class="card">
    <div class="card-body">

        <div class="row">
            <div class="col-xl-11 mx-auto">

                <section>
                    <div class="d-flex mb-2">
                        <div class="ml-2 mr-2">
                            <a href="@Url.Action("FrmTitle", "CD_Title", new { mode = "Add"})" class="btn btn-sm btn-success"><i class="fas fa-folder-plus"></i>&nbsp;&nbsp;เพิ่ม</a>
                        </div>
                    </div>
                    <hr />
                </section>

                <section class="Frm-Table">
                    <table id="DT_Table" class="table table-md table-hover table-bordered">
                        <thead class="thead-black">
                            <tr>
                                <th class="text-center" style="width:20%;"> รหัส </th>
                                <th class="text-center"> ชื่อ </th>
                                <th class="text-center" style="width:5%;"> <i class="fas fa-info"></i> </th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var row in ViewBag.CD_Title)
                            {
                                <tr>
                                    <td>@row.TitleId</td>
                                    <td>@row.TitleName</td>
                                    <td class="text-center"><a href="@Url.Action("FrmTitle", "CD_Title", new { mode = "Edit", id = row.TitleId})" class="text-info"><i class="fas fa-edit"></i></a></td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </section>

            </div>
        </div>        

    </div>
</div>



@section Scripts {
    <script src="~/Plugins/DataTables/datatables.min.js"></script>
    <script src="~/Plugins/DataTables/DataTables-1.10.21/js/dataTables.bootstrap4.min.js"></script>
    <script>
        $(document).ready(function () {
            screenScroll()

            $('#DT_Table').DataTable({
                "info": false,
                "ordering": false
            });
        });

        //function myFunction() {
        //    var input, filter, table, tr, td0, td1, i, txtValue;
        //    input = document.getElementById("inputSerach");
        //    filter = input.value.toUpperCase();
        //    table = document.getElementById("DT_Table");
        //    tr = table.getElementsByTagName("tr");

        //    for (i = 0; i < tr.length; i++) {
        //        td0 = tr[i].getElementsByTagName("td")[0];
        //        td1 = tr[i].getElementsByTagName("td")[1];
        //        if (td0) {
        //            txtValue = td0.textContent || td0.innerText;
        //            if (txtValue.toUpperCase().indexOf(filter) > -1) {
        //                tr[i].style.display = "";
        //            } else if (td1) {
        //                txtValue = td1.textContent || td1.innerText;
        //                if (txtValue.toUpperCase().indexOf(filter) > -1) {
        //                    tr[i].style.display = "";
        //                } else {
        //                    tr[i].style.display = "none";
        //                }
        //            }
        //        }
        //    }
        //}

        function screenScroll() {
            var height_P = $(window).height() - 95
            $('[scroll]').slimScroll({
                height: height_P,
                railBorderRadius: 0,
                railVisible: true
            });
            //Table
            //var height_a = $(window).height() - 200
            //document.querySelector("[ScrollTable]").style.height = `${height_a}px`;
        }
    </script>

}